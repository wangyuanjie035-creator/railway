# 📚 3D模型定制报价系统 - 文档中心

> 欢迎来到 3D 模型定制报价系统！这里是你学习和理解系统的起点。

---

## 🚀 快速开始

### 我是初学者，从哪里开始？

**推荐路径** 👇

```
第 1 步: 阅读 BEGINNER_GUIDE.md
        ↓ 理解基础概念和技术栈
        
第 2 步: 阅读 SYSTEM_WORKFLOW.md
        ↓ 了解完整的业务流程
        
第 3 步: 阅读 CODE_DOCUMENTATION_INDEX.md
        ↓ 快速查找功能和代码位置
        
第 4 步: 查看 api/send-email.js
        ↓ 学习详细的代码注释风格
        
第 5 步: 实践操作
        ↓ 在测试环境中尝试
```

**预计学习时间**: 2-4 小时

---

### 我有经验，想快速了解系统？

**快速路径** 👇

```
第 1 步: 阅读 CODE_DOCUMENTATION_INDEX.md
        ↓ 10 分钟了解架构
        
第 2 步: 查看 SYSTEM_WORKFLOW.md 的数据流程图
        ↓ 5 分钟理解数据流
        
第 3 步: 直接阅读代码
        ↓ 结合索引文档定位功能
```

**预计学习时间**: 30-60 分钟

---

## 📖 文档列表

### 核心文档（必读）

| 文档名称 | 用途 | 适合人群 | 阅读时间 |
|---------|------|---------|---------|
| [BEGINNER_GUIDE.md](./BEGINNER_GUIDE.md) | 初学者入门指南 | 所有人 | 60-90 分钟 |
| [SYSTEM_WORKFLOW.md](./SYSTEM_WORKFLOW.md) | 系统工作流程详解 | 所有人 | 40-60 分钟 |
| [CODE_DOCUMENTATION_INDEX.md](./CODE_DOCUMENTATION_INDEX.md) | 代码文档索引 | 开发者 | 20-30 分钟 |

### 补充文档（按需阅读）

| 文档名称 | 用途 | 适合人群 |
|---------|------|---------|
| [DOCUMENTATION_COMPLETE.md](./DOCUMENTATION_COMPLETE.md) | 文档完成总结 | 项目维护者 |
| [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) | 部署指南 | 运维人员 |
| [FILE_MANAGEMENT_GUIDE.md](./FILE_MANAGEMENT_GUIDE.md) | 文件管理指南 | 开发者 |
| [PROJECT_CLEANUP_SUMMARY.md](./PROJECT_CLEANUP_SUMMARY.md) | 项目清理总结 | 项目维护者 |

---

## 🎯 按需求查找

### 我想了解...

#### 💡 基础概念
- **Metaobject 是什么？** → `BEGINNER_GUIDE.md` 第 3.1 节
- **Base64 编码是什么？** → `BEGINNER_GUIDE.md` 第 3.2 节
- **CORS 为什么需要？** → `BEGINNER_GUIDE.md` 第 3.3 节
- **Staged Upload 如何工作？** → `BEGINNER_GUIDE.md` 第 3.4 节

#### 🔄 业务流程
- **客户如何上传文件？** → `SYSTEM_WORKFLOW.md` 阶段 1
- **文件如何存储？** → `SYSTEM_WORKFLOW.md` 阶段 2
- **客服如何添加报价？** → `SYSTEM_WORKFLOW.md` 阶段 4
- **邮件如何发送？** → `SYSTEM_WORKFLOW.md` 阶段 5

#### 💻 代码实现
- **文件上传 API 在哪里？** → `CODE_DOCUMENTATION_INDEX.md` 第 3 节
- **报价记录如何管理？** → `CODE_DOCUMENTATION_INDEX.md` 第 2 节
- **前端上传器如何工作？** → `CODE_DOCUMENTATION_INDEX.md` 第 4 节
- **管理后台在哪里？** → `CODE_DOCUMENTATION_INDEX.md` 第 5 节

#### 🔧 实际操作
- **如何部署系统？** → `DEPLOYMENT_GUIDE.md`
- **如何调试问题？** → `BEGINNER_GUIDE.md` 调试技巧部分
- **如何修改样式？** → `BEGINNER_GUIDE.md` 常见问题 Q2
- **如何添加参数？** → `BEGINNER_GUIDE.md` 常见问题 Q3

---

## 🏗️ 系统架构一览

```
┌─────────────────────────────────────────────────────────────┐
│                        系统架构                              │
└─────────────────────────────────────────────────────────────┘

┌──────────────┐         ┌──────────────┐         ┌──────────────┐
│   客户端     │         │  Vercel API  │         │   Shopify    │
│  (浏览器)    │ ◄────► │  (后端服务)  │ ◄────► │  (数据存储)  │
└──────────────┘         └──────────────┘         └──────────────┘
       │                        │                        │
       │                        │                        │
   前端文件                  API 端点                数据存储
       │                        │                        │
       ├─ model-uploader.js    ├─ quotes-restored.js   ├─ Metaobjects
       ├─ admin-dashboard      ├─ upload-file.js       │  ├─ quote
       └─ cart.quote           ├─ send-email.js        │  └─ uploaded_file
                               ├─ download-file.js     │
                               └─ cleanup-files.js     └─ Shopify Files
```

**详细说明** → `SYSTEM_WORKFLOW.md` 系统概述部分

---

## 📊 核心文件概览

### 前端文件（客户端）

```
assets/model-uploader.js (2481 行)
├─ 功能: 3D 模型上传器
├─ 职责: 文件选择、参数收集、API 调用
└─ 详细说明: CODE_DOCUMENTATION_INDEX.md 第 4 节

templates/page.admin-dashboard.liquid (1758 行)
├─ 功能: 客服管理后台
├─ 职责: 订单列表、文件下载、添加报价
└─ 详细说明: CODE_DOCUMENTATION_INDEX.md 第 5 节

templates/cart.quote.liquid (114 行)
├─ 功能: 购物车页面
├─ 职责: 显示询价商品、立即下单
└─ 详细说明: SYSTEM_WORKFLOW.md 阶段 1
```

### 后端文件（API）

```
api/quotes-restored.js (305 行)
├─ 功能: 报价记录管理
├─ 职责: 增删改查报价记录
└─ 详细说明: CODE_DOCUMENTATION_INDEX.md 第 2 节

api/upload-file.js (284 行)
├─ 功能: 文件上传处理
├─ 职责: Staged Upload、文件存储
└─ 详细说明: CODE_DOCUMENTATION_INDEX.md 第 3 节

api/send-email.js (295 行) ✅ 完整注释
├─ 功能: 邮件内容生成
├─ 职责: 生成邮件、返回 mailto: 链接
└─ 详细说明: 查看文件内的注释
```

---

## 🎓 学习路径

### 第 1 周：基础概念

**目标**: 理解系统的业务逻辑和基本技术

**学习内容**:
- ✅ 阅读 `BEGINNER_GUIDE.md` 第 1-2 节
- ✅ 理解 Shopify、Vercel、JavaScript 是什么
- ✅ 阅读 `SYSTEM_WORKFLOW.md` 完整流程
- ✅ 在测试环境中体验完整流程

**练习**:
- 作为客户上传一个文件
- 作为客服添加一个报价
- 观察浏览器网络请求

---

### 第 2 周：前端开发

**目标**: 理解前端代码，能够修改界面

**学习内容**:
- ✅ 学习 HTML/CSS 基础
- ✅ 学习 JavaScript DOM 操作
- ✅ 阅读 `CODE_DOCUMENTATION_INDEX.md` 第 4-5 节
- ✅ 查看 `model-uploader.js` 和 `admin-dashboard.liquid`

**练习**:
- 修改上传器的样式
- 添加一个新的加工参数
- 修改管理后台的布局

---

### 第 3 周：后端开发

**目标**: 理解后端 API，能够修改逻辑

**学习内容**:
- ✅ 学习 Node.js 基础
- ✅ 学习 GraphQL 查询
- ✅ 阅读 `CODE_DOCUMENTATION_INDEX.md` 第 2-3 节
- ✅ 查看 `api/quotes-restored.js` 和 `api/upload-file.js`

**练习**:
- 修改报价记录的字段
- 添加新的 API 端点
- 修改文件上传逻辑

---

### 第 4 周：综合实践

**目标**: 独立开发新功能

**学习内容**:
- ✅ 复习所有文档
- ✅ 理解完整的数据流
- ✅ 学习调试技巧

**练习**:
- 添加一个新功能（如批量报价）
- 优化性能（如文件压缩）
- 修复一个 bug

---

## 🔧 常用命令

### 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
vercel dev

# 访问
http://localhost:3000
```

### 部署

```bash
# 登录 Vercel
vercel login

# 部署到生产环境
vercel --prod
```

### 测试 API

```bash
# 获取所有报价
curl https://shopify-13s4.vercel.app/api/quotes

# 创建新报价
curl -X POST https://shopify-13s4.vercel.app/api/quotes \
  -H "Content-Type: application/json" \
  -d '{"text":"test.step","author":"测试","email":"test@example.com"}'
```

---

## 🐛 故障排查

### 常见问题

| 问题 | 可能原因 | 解决方案 |
|------|---------|---------|
| 文件上传失败 | 文件过大 | 检查文件大小（最大 100MB） |
| API 调用失败 | CORS 错误 | 检查后端 CORS 设置 |
| 订单不显示 | 状态过滤 | 检查 status 字段 |
| 邮件无法打开 | 浏览器限制 | 尝试复制邮件内容 |

**详细排查** → `BEGINNER_GUIDE.md` 常见问题部分

---

## 📞 获取帮助

### 文档问题
- 📖 查看 `BEGINNER_GUIDE.md` 常见问题部分
- 📖 查看 `SYSTEM_WORKFLOW.md` 故障排查部分
- 📖 在项目中创建 Issue

### 技术问题
- 🔍 检查浏览器控制台（F12）
- 🔍 查看 Vercel 日志
- 🔍 在项目中创建 Issue 并附上错误信息

---

## 🎉 开始你的学习之旅

**准备好了吗？**

👉 **点击这里开始**: [BEGINNER_GUIDE.md](./BEGINNER_GUIDE.md)

**或者**:

- 🚀 想快速了解？→ [CODE_DOCUMENTATION_INDEX.md](./CODE_DOCUMENTATION_INDEX.md)
- 🔄 想看流程图？→ [SYSTEM_WORKFLOW.md](./SYSTEM_WORKFLOW.md)
- 💻 想看代码注释？→ [api/send-email.js](./api/send-email.js)

---

## 📝 文档信息

| 项目 | 信息 |
|------|------|
| 项目名称 | 3D模型定制报价系统 |
| 文档版本 | 1.0 |
| 创建日期 | 2025-01-29 |
| 文档语言 | 中文 |
| 文档总字数 | 27500+ |
| 核心文件数 | 5 个 |
| 文档完成度 | ✅ 100% |

---

**祝你学习愉快！** 🎓✨

如有任何问题，请随时查阅相关文档或创建 Issue。

