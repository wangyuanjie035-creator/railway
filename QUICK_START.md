# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“ 5 åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### æ­¥éª¤ 1: éƒ¨ç½²åˆ° Vercel (2 åˆ†é’Ÿ)

```bash
# 1. æäº¤æ–°æ–‡ä»¶åˆ° Git
git add api/submit-quote.js api/update-quote.js api/get-draft-order.js
git commit -m "feat: æ·»åŠ  Draft Order æŠ¥ä»· API"
git push

# 2. Vercel è‡ªåŠ¨éƒ¨ç½²ï¼ˆç­‰å¾… 1-2 åˆ†é’Ÿï¼‰
# è®¿é—® https://vercel.com/dashboard æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
```

âœ… **å®Œæˆå**: è·å–ä½ çš„ Vercel åŸŸåï¼ˆå¦‚ `https://shopify-13s4.vercel.app`ï¼‰

---

### æ­¥éª¤ 2: ä¸Šä¼ åˆ° Shopify ä¸»é¢˜ (2 åˆ†é’Ÿ)

**æ–¹æ³• A: ä½¿ç”¨ä¸»é¢˜ç¼–è¾‘å™¨** (æ¨è)

1. Shopify åå° â†’ åœ¨çº¿å•†åº— â†’ ä¸»é¢˜
2. ç‚¹å‡»"è‡ªå®šä¹‰" â†’ å·¦ä¾§èœå• â†’ "æ·»åŠ "
3. ä¸Šä¼  `templates/page.quote-request.liquid`
4. ä¸Šä¼  `templates/page.my-quotes.liquid`

**æ–¹æ³• B: ä½¿ç”¨ Shopify CLI**

```bash
shopify theme push --path templates/page.quote-request.liquid
shopify theme push --path templates/page.my-quotes.liquid
```

---

### æ­¥éª¤ 3: é…ç½® API URL (1 åˆ†é’Ÿ)

ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ä¸­çš„ `API_BASE`ï¼š

#### æ–‡ä»¶ 1: `templates/page.my-quotes.liquid` (ç¬¬ 245 è¡Œ)

```javascript
const API_BASE = 'https://shopify-13s4.vercel.app/api';  // â† æ”¹ä¸ºä½ çš„åŸŸå
```

#### æ–‡ä»¶ 2: `templates/page.quote-request.liquid` (ç¬¬ 348 è¡Œ)

```javascript
const API_BASE = 'https://shopify-13s4.vercel.app/api';  // â† æ”¹ä¸ºä½ çš„åŸŸå
```

é‡æ–°ä¸Šä¼ è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚

---

### æ­¥éª¤ 4: åˆ›å»º Shopify é¡µé¢ (1 åˆ†é’Ÿ)

#### é¡µé¢ 1: è¯¢ä»·è¯·æ±‚

1. Shopify åå° â†’ åœ¨çº¿å•†åº— â†’ é¡µé¢ â†’ æ·»åŠ é¡µé¢
2. å¡«å†™:
   - **æ ‡é¢˜**: `è¯¢ä»·è¯·æ±‚`
   - **å†…å®¹**: (ç•™ç©º)
   - **æ¨¡æ¿**: é€‰æ‹© `page.quote-request`
3. ç‚¹å‡»"ä¿å­˜"
4. è®°ä½ URL: `https://your-store.myshopify.com/pages/quote-request`

#### é¡µé¢ 2: æˆ‘çš„è¯¢ä»·

1. Shopify åå° â†’ åœ¨çº¿å•†åº— â†’ é¡µé¢ â†’ æ·»åŠ é¡µé¢
2. å¡«å†™:
   - **æ ‡é¢˜**: `æˆ‘çš„è¯¢ä»·`
   - **å†…å®¹**: (ç•™ç©º)
   - **æ¨¡æ¿**: é€‰æ‹© `page.my-quotes`
3. ç‚¹å‡»"ä¿å­˜"
4. è®°ä½ URL: `https://your-store.myshopify.com/pages/my-quotes`

---

### æ­¥éª¤ 5: æµ‹è¯• (5 åˆ†é’Ÿ)

#### æµ‹è¯• 1: æäº¤è¯¢ä»·

1. è®¿é—® `https://your-store.myshopify.com/pages/quote-request`
2. ä¸Šä¼ ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ (å¦‚ `test.step`)
3. å¡«å†™å‚æ•°:
   - æ•°é‡: 100
   - æè´¨: ABS
   - é‚®ç®±: your-email@example.com
4. ç‚¹å‡»"æäº¤è¯¢ä»·"
5. âœ… åº”è¯¥çœ‹åˆ°æˆåŠŸæ¶ˆæ¯å’Œè¯¢ä»·å•å· (å¦‚ #D1001)
6. âœ… è‡ªåŠ¨è·³è½¬åˆ°æŸ¥çœ‹é¡µé¢

#### æµ‹è¯• 2: æŸ¥çœ‹è¯¢ä»·

1. åœ¨æŸ¥çœ‹é¡µé¢ï¼Œåº”è¯¥çœ‹åˆ°:
   - ğŸŸ¡ å¾…æŠ¥ä»·
   - æ–‡ä»¶åã€æ•°é‡ã€æè´¨
   - "å®¢æœæ­£åœ¨ä¸ºæ‚¨æŠ¥ä»·"
2. âœ… çŠ¶æ€æ˜¾ç¤ºæ­£ç¡®

#### æµ‹è¯• 3: åå°æŸ¥çœ‹ Draft Order

1. Shopify åå° â†’ è®¢å• â†’ è‰ç¨¿è®¢å•
2. âœ… åº”è¯¥çœ‹åˆ°åˆšåˆ›å»ºçš„è®¢å• #D1001
3. âœ… ä»·æ ¼æ˜¾ç¤º Â¥0.01
4. âœ… Tags åŒ…å« "quote", "pending"

#### æµ‹è¯• 4: æ·»åŠ æŠ¥ä»·

**ä½¿ç”¨ API æµ‹è¯•**:

```bash
curl -X POST https://your-vercel-domain.vercel.app/api/update-quote \
  -H "Content-Type: application/json" \
  -d '{
    "draftOrderId": "gid://shopify/DraftOrder/YOUR_ORDER_ID",
    "amount": 1500,
    "note": "æµ‹è¯•æŠ¥ä»·"
  }'
```

**æˆ–åœ¨ Shopify åå°æ‰‹åŠ¨ä¿®æ”¹**:
1. æ‰“å¼€ Draft Order
2. ç¼–è¾‘ Line Item ä»·æ ¼ä¸º 1500
3. ä¿å­˜

#### æµ‹è¯• 5: å®¢æˆ·ä¸‹å•

1. åˆ·æ–°å®¢æˆ·æŸ¥çœ‹é¡µé¢
2. âœ… åº”è¯¥æ˜¾ç¤º ğŸŸ¢ å·²æŠ¥ä»·
3. âœ… æ˜¾ç¤ºé‡‘é¢ Â¥1,500
4. ç‚¹å‡»"ç«‹å³ä¸‹å•"
5. âœ… è·³è½¬åˆ° Shopify ç»“è´¦é¡µé¢
6. âœ… ä»·æ ¼æ­£ç¡®

---

## âœ… å®Œæˆï¼

ä½ çš„ Draft Order æŠ¥ä»·ç³»ç»Ÿå·²ç»éƒ¨ç½²å®Œæˆï¼

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

- [ ] Vercel éƒ¨ç½²æˆåŠŸ
- [ ] Shopify ä¸»é¢˜æ–‡ä»¶å·²ä¸Šä¼ 
- [ ] API URL å·²é…ç½®
- [ ] Shopify é¡µé¢å·²åˆ›å»º
- [ ] æµ‹è¯•æµç¨‹å…¨éƒ¨é€šè¿‡
- [ ] Shopify API æƒé™å·²æ·»åŠ  (`write_draft_orders`, `read_draft_orders`)

---

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜ 1: API è¿”å› 401 é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ Vercel ç¯å¢ƒå˜é‡
2. ç¡®è®¤ `SHOPIFY_ACCESS_TOKEN` æ­£ç¡®
3. ç¡®è®¤å·²æ·»åŠ  `write_draft_orders` æƒé™

### é—®é¢˜ 2: æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆå»ºè®® < 100MBï¼‰
2. æ£€æŸ¥æ–‡ä»¶æ ¼å¼
3. æŸ¥çœ‹ Vercel æ—¥å¿—

### é—®é¢˜ 3: é¡µé¢æ˜¾ç¤ºç©ºç™½

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. ç¡®è®¤ `API_BASE` URL æ­£ç¡®
3. ç¡®è®¤ Shopify é¡µé¢æ¨¡æ¿é€‰æ‹©æ­£ç¡®

### é—®é¢˜ 4: Draft Order ä»·æ ¼æ²¡æœ‰æ›´æ–°

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `update-quote` API æ—¥å¿—
2. ç¡®è®¤ `draftOrderId` æ ¼å¼æ­£ç¡®ï¼ˆ`gid://shopify/DraftOrder/...`ï¼‰
3. åœ¨ Shopify åå°æ‰‹åŠ¨æŸ¥çœ‹ Draft Order

---

## ğŸ“š æ›´å¤šä¿¡æ¯

- **å®Œæ•´æ–‡æ¡£**: æŸ¥çœ‹ `IMPLEMENTATION_GUIDE.md`
- **æ–¹æ¡ˆè¯´æ˜**: æŸ¥çœ‹ `FINAL_DRAFT_ORDER_SOLUTION.md`
- **æµ‹è¯•æŒ‡å—**: æŸ¥çœ‹ `IMPLEMENTATION_GUIDE.md` çš„æµ‹è¯•éƒ¨åˆ†

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **åŸ¹è®­å®¢æœ**: æ•™å®¢æœå¦‚ä½•ä½¿ç”¨ Draft Order ç³»ç»Ÿ
2. **ç›‘æ§è¿è¡Œ**: è§‚å¯Ÿç¬¬ä¸€æ‰¹è®¢å•çš„è¿è¡Œæƒ…å†µ
3. **æ”¶é›†åé¦ˆ**: å¬å–å®¢æˆ·å’Œå®¢æœçš„åé¦ˆ
4. **ä¼˜åŒ–ç³»ç»Ÿ**: æ ¹æ®åé¦ˆè¿›è¡Œä¼˜åŒ–

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

