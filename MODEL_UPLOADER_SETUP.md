# 3D模型上传器设置指南

## 方案一：作为产品页面使用（推荐）

### 1. 创建产品
1. 在Shopify后台创建一个新产品
2. 产品名称：`3D模型上传与报价服务`
3. 产品类型：`服务`
4. 价格：设置为 `$0.00`（因为显示"报价中"）
5. 库存：设置为无限库存

### 2. 设置产品模板
1. 在产品编辑页面，找到"模板"设置
2. 选择"model-uploader"模板
3. 保存产品

### 3. 访问产品页面
- 产品URL格式：`/products/3d-model-uploader`
- 现在这个页面就是3D模型上传器

## 方案二：作为页面使用

### 1. 创建页面
1. 在Shopify后台创建一个新页面
2. 页面标题：`3D模型上传器`
3. 页面模板：选择"page"模板

### 2. 添加Section
1. 在页面编辑器中添加"3D Model Uploader" section
2. 在section设置中配置"关联商品"
3. 选择一个产品作为购物车目标

## 使用方法

### 访问上传器
- 产品页面：`/products/3d-model-uploader`
- 或页面：`/pages/3d-model-uploader`

### 功能特性
- ✅ 支持多文件上传（STP, STEP, STL, OBJ, 3MF, IGES, DWG, DXF, PDF, ZIP）
- ✅ 3D模型预览和尺寸计算
- ✅ 独立参数配置（每个文件独立设置）
- ✅ 智能验证（螺纹、装配标记等）
- ✅ 直接添加到购物车（显示"报价中"）

### 购物车集成
- 点击"立即询价"直接添加到购物车
- 购物车显示"报价中"状态
- 包含所有文件信息和参数配置

## 技术说明

### 变体ID获取优先级
1. 当前产品变体ID（产品页面）
2. Section配置的关联商品变体ID
3. 页面数据中的变体ID
4. URL参数中的变体ID

### 文件管理
- 每个文件有独立的ID和配置
- 支持文件选择和删除
- 参数修改只影响当前选中的文件

### 错误处理
- 完整的错误反馈系统
- 智能验证和警告提示
- ZIP文件解压错误处理

## 故障排除

### 购物车为空
- 确保在产品页面使用
- 检查变体ID是否正确获取
- 查看浏览器控制台错误信息

### 文件上传失败
- 检查文件格式是否支持
- 确认文件大小限制（<100MB）
- 查看网络连接状态

### 3D预览不显示
- 检查Three.js库是否加载
- 确认文件格式支持3D预览
- 查看控制台错误信息
