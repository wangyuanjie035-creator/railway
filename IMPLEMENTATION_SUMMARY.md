# å®Œæ•´æµç¨‹å®ç°è¯´æ˜

## ğŸ¯ å®ç°ç›®æ ‡

**ç«‹å³è¯¢ä»· â†’ è‰ç¨¿è®¢å• â†’ ç«‹å³ä¸‹å• â†’ è´­ç‰©è½¦ â†’ ç«‹å³ä»˜æ¬¾**

è¿™ä¸ªå®ç°ç»“åˆäº†è‰ç¨¿è®¢å•APIå’Œè´­ç‰©è½¦APIçš„ä¼˜åŠ¿ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„è¯¢ä»·åˆ°æ”¯ä»˜æµç¨‹ã€‚

---

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### 1. **ç«‹å³è¯¢ä»· â†’ è‰ç¨¿è®¢å•** âœ…

#### ä¿®æ”¹æ–‡ä»¶ï¼š`assets/model-uploader.js`

**åŠŸèƒ½è¯´æ˜ï¼š**
- å®¢æˆ·ä¸Šä¼ 3Dæ–‡ä»¶å¹¶å¡«å†™é…ç½®å‚æ•°
- ç‚¹å‡»"ç«‹å³è¯¢ä»·"æŒ‰é’®åï¼Œè°ƒç”¨`submitToDraftOrder()`å‡½æ•°
- ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºShopifyè‰ç¨¿è®¢å•
- è·³è½¬åˆ°è‰ç¨¿è®¢å•è¯¦æƒ…é¡µé¢

**å…³é”®ä»£ç ï¼š**
```javascript
// ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºè‰ç¨¿è®¢å•
async function submitToDraftOrder() {
  // å‡†å¤‡çº¿ä¸Šé¡¹ç›®ï¼ˆLine Itemsï¼‰
  const lineItems = [];
  
  for (const fileId of selectedFileIds) {
    const fileData = fileManager.files.get(fileId);
    lineItems.push({
      title: fileData.file.name,
      quantity: parseInt(config.quantity || 1),
      price: 0, // åˆå§‹ä»·æ ¼ä¸º0ï¼Œç­‰å¾…æŠ¥ä»·
      customAttributes: [
        { key: 'Order Type', value: '3D Model Quote' },
        { key: 'å®¢æˆ·å§“å', value: customerInfo.name },
        // ... å…¶ä»–å‚æ•°
      ]
    });
  }
  
  // è°ƒç”¨Vercel APIåˆ›å»ºè‰ç¨¿è®¢å•
  const response = await fetch(`${API_BASE}/submit-quote-real`, {
    method: 'POST',
    body: JSON.stringify({
      customerName: customerInfo.name,
      customerEmail: customerInfo.email,
      lineItems: lineItems
    })
  });
  
  return result.draftOrderId;
}
```

**APIè°ƒç”¨ï¼š**
- `POST https://shopify-13s4.vercel.app/api/submit-quote-real`
- åˆ›å»ºè‰ç¨¿è®¢å•å¹¶è¿”å›`draftOrderId`

---

### 2. **è‰ç¨¿è®¢å•è¯¦æƒ…é¡µ** âœ…

#### æ–°å»ºæ–‡ä»¶ï¼š`templates/page.my-quotes.liquid`

**åŠŸèƒ½è¯´æ˜ï¼š**
- æ˜¾ç¤ºè‰ç¨¿è®¢å•çš„å®Œæ•´è¯¦æƒ…
- å±•ç¤ºæ‰€æœ‰é…ç½®å‚æ•°ï¼ˆææ–™ã€ç²¾åº¦ã€å…¬å·®ç­‰ï¼‰
- æ˜¾ç¤ºè®¢å•çŠ¶æ€ï¼ˆå¾…æŠ¥ä»·/å·²æŠ¥ä»·ï¼‰
- æä¾›"ç«‹å³ä¸‹å•"æŒ‰é’®

**é¡µé¢å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®¢å• #D123456        çŠ¶æ€: å¾…æŠ¥ä»·    â”‚
â”‚  åˆ›å»ºæ—¶é—´: 2025-10-16  å®¢æˆ·: å¼ ä¸‰    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®¢å•é¡¹ç›®                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  part1.stp      Â¥å¾…æŠ¥ä»·       â”‚  â”‚
â”‚  â”‚  æ•°é‡: 1  ææ–™: PLA           â”‚  â”‚
â”‚  â”‚  ç²¾åº¦: æ ‡å‡†  å…¬å·®: GB/T...    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è´¹ç”¨æ±‡æ€»                            â”‚
â”‚  å°è®¡: Â¥0.00                        â”‚
â”‚  è¿è´¹: å¾…ç¡®å®š                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  æ€»è®¡: Â¥0.00                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ç»§ç»­ä¸Šä¼ ]  [ç«‹å³ä¸‹å• (disabled)]
```

**å…³é”®ä»£ç ï¼š**
```javascript
// åŠ è½½è®¢å•è¯¦æƒ…
async function loadOrderDetails() {
  const response = await fetch(
    `${API_BASE}/get-draft-order-simple?id=${draftOrderId}`
  );
  const data = await response.json();
  renderOrderDetails(data.draftOrder);
}

// æ›´æ–°æŒ‰é’®çŠ¶æ€
function updateButtonState(order) {
  const placeOrderBtn = document.getElementById('place-order-btn');
  const totalPrice = parseFloat(order.totalPrice || 0);
  
  if (totalPrice <= 0) {
    placeOrderBtn.disabled = true;
    placeOrderBtn.textContent = 'ç­‰å¾…æŠ¥ä»·';
  } else {
    placeOrderBtn.disabled = false;
    placeOrderBtn.textContent = 'ç«‹å³ä¸‹å•';
  }
}
```

---

### 3. **è‰ç¨¿è®¢å• â†’ è´­ç‰©è½¦ï¼ˆç«‹å³ä¸‹å•ï¼‰** âœ…

#### åŠŸèƒ½è¯´æ˜ï¼š
- å®¢æœæŠ¥ä»·åï¼Œå®¢æˆ·åœ¨è®¢å•è¯¦æƒ…é¡µçœ‹åˆ°æŠ¥ä»·é‡‘é¢
- "ç«‹å³ä¸‹å•"æŒ‰é’®å˜ä¸ºå¯ç‚¹å‡»çŠ¶æ€
- ç‚¹å‡»åå°†è‰ç¨¿è®¢å•è½¬æ¢ä¸ºè´­ç‰©è½¦é¡¹ç›®
- è‡ªåŠ¨è·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢

**å…³é”®ä»£ç ï¼š**
```javascript
// ç«‹å³ä¸‹å•ï¼ˆæ·»åŠ åˆ°è´­ç‰©è½¦ï¼‰
async function placeOrder() {
  const order = window.currentDraftOrder;
  const totalPrice = parseFloat(order.totalPrice || 0);
  
  if (totalPrice <= 0) {
    alert('è®¢å•å°šæœªæŠ¥ä»·ï¼Œè¯·ç­‰å¾…å®¢æœæŠ¥ä»·åå†ä¸‹å•');
    return;
  }
  
  // å‡†å¤‡è´­ç‰©è½¦é¡¹ç›®
  const cartItems = [];
  
  for (const item of order.lineItems) {
    const properties = {
      'Order Type': '3D Model Quote',
      'Draft Order ID': draftOrderId,
      'Quote Status': 'Quoted',
      'Quoted Price': String(item.price || 0)
    };
    
    // æ·»åŠ æ‰€æœ‰è‡ªå®šä¹‰å±æ€§
    item.customAttributes.forEach(attr => {
      properties[attr.key] = attr.value;
    });
    
    cartItems.push({
      id: 0, // è™šæ‹Ÿäº§å“ID
      quantity: item.quantity || 1,
      properties: properties
    });
  }
  
  // è°ƒç”¨Shopifyè´­ç‰©è½¦API
  const response = await fetch('/cart/add.js', {
    method: 'POST',
    body: JSON.stringify({ items: cartItems })
  });
  
  // è·³è½¬åˆ°è´­ç‰©è½¦
  window.location.href = '/cart?view=quote';
}
```

---

### 4. **åå°ç®¡ç†è‰ç¨¿è®¢å•** âœ…

#### æ–‡ä»¶ï¼š`templates/page.admin-draft-orders.liquid`

**åŠŸèƒ½è¯´æ˜ï¼š**
- å®¢æœç™»å½•åæŸ¥çœ‹æ‰€æœ‰è‰ç¨¿è®¢å•
- æŸ¥çœ‹è®¢å•è¯¦ç»†å‚æ•°
- ä¸ºè®¢å•æŠ¥ä»·
- ä¸‹è½½å®¢æˆ·ä¸Šä¼ çš„æ–‡ä»¶
- åˆ é™¤è®¢å•

**ç®¡ç†ç•Œé¢ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ Draft Order æŠ¥ä»·ç®¡ç†   [åˆ·æ–°]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ â³   â”‚  â”‚ âœ…   â”‚  â”‚ ğŸ“Š   â”‚
â”‚  5   â”‚  â”‚  3   â”‚  â”‚  8   â”‚
â”‚å¾…æŠ¥ä»· â”‚  â”‚å·²æŠ¥ä»·â”‚  â”‚æ€»è®¡  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜

[å…¨éƒ¨] [å¾…æŠ¥ä»·] [å·²æŠ¥ä»·]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢å• #D123456        å¾…æŠ¥ä»·          â”‚
â”‚ å¼ ä¸‰ (zhangsan@example.com)        â”‚
â”‚ part1.stp                           â”‚
â”‚ åˆ›å»ºæ—¶é—´: 2025-10-16 10:30         â”‚
â”‚ [â¬‡ï¸] [ğŸ‘ï¸] [ğŸ’°] [ğŸ“‹] [ğŸ—‘ï¸]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ¥ä»·æµç¨‹ï¼š**
1. å®¢æœç‚¹å‡»"ğŸ’°æŠ¥ä»·"æŒ‰é’®
2. å¼¹å‡ºæŠ¥ä»·æ¨¡æ€æ¡†
3. è¾“å…¥æŠ¥ä»·é‡‘é¢å’Œå¤‡æ³¨
4. ç³»ç»Ÿè°ƒç”¨`update-quote` API
5. æ›´æ–°è‰ç¨¿è®¢å•ä»·æ ¼
6. å®¢æˆ·åœ¨è¯¦æƒ…é¡µçœ‹åˆ°æŠ¥ä»·

**å…³é”®ä»£ç ï¼š**
```javascript
// æäº¤æŠ¥ä»·
async function submitQuote() {
  const amount = document.getElementById('quote-amount').value;
  
  const response = await fetch(`${API_BASE}/update-quote`, {
    method: 'POST',
    body: JSON.stringify({
      draftOrderId: window.currentQuoteOrderId,
      amount: parseFloat(amount),
      note: note
    })
  });
  
  if (data.success) {
    alert('æŠ¥ä»·æäº¤æˆåŠŸï¼');
    loadOrders(); // é‡æ–°åŠ è½½è®¢å•åˆ—è¡¨
  }
}
```

---

### 5. **è®¢å•çŠ¶æ€åŒæ­¥** âœ…

#### åŠŸèƒ½è¯´æ˜ï¼š
ç³»ç»Ÿè‡ªåŠ¨è·Ÿè¸ªè®¢å•åœ¨ä¸åŒé˜¶æ®µçš„çŠ¶æ€ï¼š

**çŠ¶æ€æµè½¬ï¼š**
```
1. å¾…æŠ¥ä»· (Pending)
   â†“ å®¢æœæŠ¥ä»·
2. å·²æŠ¥ä»· (Quoted)
   â†“ å®¢æˆ·ç‚¹å‡»"ç«‹å³ä¸‹å•"
3. åœ¨è´­ç‰©è½¦ (In Cart)
   â†“ å®¢æˆ·ç‚¹å‡»"ç«‹å³ä»˜æ¬¾"
4. å¾…ä»˜æ¬¾ (Pending Payment)
   â†“ æ”¯ä»˜å®Œæˆ
5. å·²ä»˜æ¬¾ (Paid)
   â†“ å¼€å§‹ç”Ÿäº§
6. å·²å®Œæˆ (Completed)
```

**çŠ¶æ€æ˜¾ç¤ºï¼š**
- **è‰ç¨¿è®¢å•é¡µé¢**ï¼šæ˜¾ç¤º"å¾…æŠ¥ä»·"æˆ–"å·²æŠ¥ä»·"
- **è´­ç‰©è½¦é¡µé¢**ï¼šæ˜¾ç¤º"æŠ¥ä»·ä¸­"ï¼ˆæŠ¥ä»·å‰ï¼‰æˆ–ä»·æ ¼ï¼ˆæŠ¥ä»·åï¼‰
- **åå°ç®¡ç†é¡µé¢**ï¼šæ˜¾ç¤ºå®Œæ•´çš„è®¢å•çŠ¶æ€

---

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
å®¢æˆ·ç«¯æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸Šä¼ 3Dæ–‡ä»¶    â”‚ å®¢æˆ·æ“ä½œ
â”‚ å¡«å†™é…ç½®å‚æ•°  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç‚¹å‡»"ç«‹å³è¯¢ä»·"â”‚ åˆ›å»ºè‰ç¨¿è®¢å•
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‰ç¨¿è®¢å•è¯¦æƒ…  â”‚ ç­‰å¾…æŠ¥ä»·
â”‚ çŠ¶æ€: å¾…æŠ¥ä»·  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®¢æœæŠ¥ä»·å®Œæˆ  â”‚ åå°æ“ä½œ
â”‚ çŠ¶æ€: å·²æŠ¥ä»·  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç‚¹å‡»"ç«‹å³ä¸‹å•" â”‚ æ·»åŠ åˆ°è´­ç‰©è½¦
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è´­ç‰©è½¦é¡µé¢    â”‚ æŸ¥çœ‹å¹¶ç¡®è®¤
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç‚¹å‡»"ç«‹å³ä»˜æ¬¾" â”‚ Shopifyç»“è´¦
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¯ä»˜å®Œæˆ      â”‚ è®¢å•å®Œæˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®¢æœç«¯æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç™»å½•åå°      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥çœ‹è‰ç¨¿è®¢å•  â”‚
â”‚ - ä¸‹è½½æ–‡ä»¶    â”‚
â”‚ - æŸ¥çœ‹å‚æ•°    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯„ä¼°å¹¶æŠ¥ä»·    â”‚
â”‚ - è¾“å…¥é‡‘é¢    â”‚
â”‚ - æ·»åŠ å¤‡æ³¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æäº¤æŠ¥ä»·      â”‚ æ›´æ–°è®¢å•
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€šçŸ¥å®¢æˆ·      â”‚ é‚®ä»¶/ç³»ç»Ÿé€šçŸ¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— APIç«¯ç‚¹è¯´æ˜

### å®¢æˆ·ç«¯API

| API | æ–¹æ³• | åŠŸèƒ½ | å‚æ•° |
|-----|------|------|------|
| `/api/submit-quote-real` | POST | åˆ›å»ºè‰ç¨¿è®¢å• | `customerName`, `customerEmail`, `lineItems` |
| `/api/get-draft-order-simple` | GET | è·å–è‰ç¨¿è®¢å•è¯¦æƒ… | `id` (è‰ç¨¿è®¢å•ID) |
| `/cart/add.js` | POST | æ·»åŠ åˆ°è´­ç‰©è½¦ | `items` (è´­ç‰©è½¦é¡¹ç›®) |

### ç®¡ç†ç«¯API

| API | æ–¹æ³• | åŠŸèƒ½ | å‚æ•° |
|-----|------|------|------|
| `/api/get-draft-orders` | GET | è·å–æ‰€æœ‰è‰ç¨¿è®¢å• | - |
| `/api/update-quote` | POST | æ›´æ–°æŠ¥ä»· | `draftOrderId`, `amount`, `note` |
| `/api/delete-draft-order` | DELETE | åˆ é™¤è‰ç¨¿è®¢å• | `id` |
| `/api/download-file` | GET | ä¸‹è½½æ–‡ä»¶ | `id` (æ–‡ä»¶ID) |

---

## ğŸ“ é…ç½®è¯´æ˜

### 1. Vercelç¯å¢ƒå˜é‡

åœ¨Vercelé¡¹ç›®è®¾ç½®ä¸­é…ç½®ï¼š
```
SHOP=æ‚¨çš„åº—é“ºåŸŸå.myshopify.com
ADMIN_TOKEN=æ‚¨çš„Admin API Access Token
```

### 2. é¡µé¢URLé…ç½®

- **ä¸Šä¼ é¡µé¢**: `/pages/model-uploader`
- **è‰ç¨¿è®¢å•è¯¦æƒ…**: `/pages/my-quotes?id=<draftOrderId>`
- **è´­ç‰©è½¦é¡µé¢**: `/cart?view=quote`
- **åå°ç®¡ç†**: `/pages/admin-draft-orders`

### 3. äº§å“IDé…ç½®

åœ¨`page.my-quotes.liquid`ä¸­ï¼Œéœ€è¦å°†è™šæ‹Ÿäº§å“IDè®¾ç½®ä¸ºå®é™…çš„äº§å“å˜ä½“IDï¼š

```javascript
cartItems.push({
  id: 0, // âŒ ä¿®æ”¹ä¸ºå®é™…çš„å˜ä½“ID
  quantity: item.quantity || 1,
  properties: properties
});
```

**å¦‚ä½•è·å–äº§å“å˜ä½“IDï¼š**
1. åœ¨Shopifyåå°åˆ›å»ºä¸€ä¸ª"è¯¢ä»·äº§å“"
2. åœ¨äº§å“è¯¦æƒ…é¡µURLä¸­æ‰¾åˆ°äº§å“ID
3. æˆ–ä½¿ç”¨ä»¥ä¸‹ä»£ç åœ¨æ§åˆ¶å°æŸ¥çœ‹ï¼š
   ```javascript
   fetch('/products/YOUR-PRODUCT-HANDLE.js')
     .then(r => r.json())
     .then(d => console.log('Variant ID:', d.variants[0].id));
   ```

---

## ğŸ¨ æ ·å¼è‡ªå®šä¹‰

æ‰€æœ‰é¡µé¢éƒ½åŒ…å«å®Œæ•´çš„CSSæ ·å¼ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰ï¼š

### è‰ç¨¿è®¢å•è¯¦æƒ…é¡µé¢œè‰²
```css
.btn-primary {
  background: #e91e63; /* ä¸»è‰²è°ƒ */
}

.status-quoted {
  background: #d4edda; /* å·²æŠ¥ä»·çŠ¶æ€èƒŒæ™¯è‰² */
  color: #155724;
}
```

### åå°ç®¡ç†é¡µé¢
```css
.stat-card {
  background: white;
  border-radius: 12px;
  /* è‡ªå®šä¹‰å¡ç‰‡æ ·å¼ */
}
```

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ Shopifyä¸»é¢˜æ–‡ä»¶
```
templates/
  - page.my-quotes.liquid (æ–°å»º)
  - page.admin-draft-orders.liquid (å·²å­˜åœ¨ï¼Œå·²æ›´æ–°)
  
assets/
  - model-uploader.js (å·²æ›´æ–°)
```

### 2. éƒ¨ç½²Vercel API
```bash
# 1. æäº¤ä»£ç åˆ°GitHub
git add .
git commit -m "å®ç°å®Œæ•´çš„è¯¢ä»·åˆ°æ”¯ä»˜æµç¨‹"
git push

# 2. Vercelä¼šè‡ªåŠ¨éƒ¨ç½²
# æˆ–æ‰‹åŠ¨éƒ¨ç½²ï¼š
vercel --prod
```

### 3. é…ç½®Shopifyé¡µé¢
1. åœ¨Shopifyåå°åˆ›å»ºæ–°é¡µé¢
2. **é¡µé¢æ ‡é¢˜**: "æˆ‘çš„è¯¢ä»·å•"
3. **æ¨¡æ¿**: `page.my-quotes`
4. **URL**: `/pages/my-quotes`

### 4. æµ‹è¯•æµç¨‹
1. è®¿é—®ä¸Šä¼ é¡µé¢ `/pages/model-uploader`
2. ä¸Šä¼ æ–‡ä»¶å¹¶å¡«å†™é…ç½®
3. ç‚¹å‡»"ç«‹å³è¯¢ä»·"
4. æŸ¥çœ‹è‰ç¨¿è®¢å•è¯¦æƒ…
5. å®¢æœç™»å½•åå°æŠ¥ä»·
6. å®¢æˆ·ç‚¹å‡»"ç«‹å³ä¸‹å•"
7. åœ¨è´­ç‰©è½¦å®Œæˆæ”¯ä»˜

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. CORSé…ç½®
æ‰€æœ‰APIéƒ½å·²æ·»åŠ CORSå¤´ï¼š
```javascript
'Access-Control-Allow-Origin': 'https://æ‚¨çš„åº—é“º.myshopify.com'
'Access-Control-Allow-Credentials': 'true'
```

### 2. é‚®ä»¶é€šçŸ¥
æŠ¥ä»·å®Œæˆåï¼Œç³»ç»Ÿä¼šï¼š
- æ›´æ–°è‰ç¨¿è®¢å•çŠ¶æ€
- å¯é€‰ï¼šå‘é€é‚®ä»¶é€šçŸ¥å®¢æˆ·ï¼ˆéœ€é…ç½®é‚®ä»¶æœåŠ¡ï¼‰

### 3. æ–‡ä»¶å­˜å‚¨
- æ–‡ä»¶ä¸Šä¼ åå­˜å‚¨åœ¨Shopify Metaobjectsä¸­
- å®¢æœå¯ä»¥ä»åå°ä¸‹è½½åŸå§‹æ–‡ä»¶
- å»ºè®®é™åˆ¶æ–‡ä»¶å¤§å°ï¼ˆå¦‚100MBï¼‰

### 4. æƒé™ç®¡ç†
- åå°ç®¡ç†é¡µé¢éœ€è¦ç™»å½•éªŒè¯
- ä½¿ç”¨`login-manager.js`ç®¡ç†æƒé™
- å®¢æˆ·åªèƒ½æŸ¥çœ‹è‡ªå·±çš„è®¢å•

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šè‰ç¨¿è®¢å•åˆ›å»ºå¤±è´¥
**ç—‡çŠ¶**: ç‚¹å‡»"ç«‹å³è¯¢ä»·"åæŠ¥é”™  
**è§£å†³**:
1. æ£€æŸ¥Vercelç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤`SHOP`å’Œ`ADMIN_TOKEN`å·²é…ç½®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### é—®é¢˜2ï¼šè®¢å•è¯¦æƒ…é¡µæ˜¾ç¤º"æœªæ‰¾åˆ°è®¢å•"
**ç—‡çŠ¶**: è·³è½¬åˆ°è¯¦æƒ…é¡µåæ˜¾ç¤ºé”™è¯¯  
**è§£å†³**:
1. ç¡®è®¤URLä¸­åŒ…å«`id`å‚æ•°
2. æ£€æŸ¥APIå“åº”æ˜¯å¦æ­£å¸¸
3. æŸ¥çœ‹`get-draft-order-simple` APIæ—¥å¿—

### é—®é¢˜3ï¼š"ç«‹å³ä¸‹å•"æŒ‰é’®æ— å“åº”
**ç—‡çŠ¶**: ç‚¹å‡»æŒ‰é’®æ²¡æœ‰ä»»ä½•ååº”  
**è§£å†³**:
1. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯
2. ç¡®è®¤äº§å“å˜ä½“IDæ˜¯å¦æ­£ç¡®ï¼ˆä¸èƒ½ä¸º0ï¼‰
3. æ£€æŸ¥è´­ç‰©è½¦APIè°ƒç”¨æ˜¯å¦æˆåŠŸ

### é—®é¢˜4ï¼šåå°çœ‹ä¸åˆ°è®¢å•
**ç—‡çŠ¶**: ç®¡ç†é¡µé¢æ˜¾ç¤º"æš‚æ— è®¢å•"  
**è§£å†³**:
1. æ£€æŸ¥`get-draft-orders` APIæ˜¯å¦è¿”å›æ•°æ®
2. ç¡®è®¤è‰ç¨¿è®¢å•å·²æˆåŠŸåˆ›å»º
3. æŸ¥çœ‹APIæ—¥å¿—æ’æŸ¥é—®é¢˜

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. æµè§ˆå™¨æ§åˆ¶å°æˆªå›¾
2. APIè°ƒç”¨æ—¥å¿—
3. è¯¦ç»†çš„é”™è¯¯æè¿°
4. å¤ç°æ­¥éª¤

---

## ğŸ‰ å®Œæˆï¼

æ‰€æœ‰åŠŸèƒ½å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡ï¼æ‚¨ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„ï¼š

âœ… **ç«‹å³è¯¢ä»·** â†’ åˆ›å»ºè‰ç¨¿è®¢å•  
âœ… **è‰ç¨¿è®¢å•è¯¦æƒ…é¡µ** â†’ æ˜¾ç¤ºè®¢å•ä¿¡æ¯  
âœ… **åå°æŠ¥ä»·** â†’ å®¢æœç®¡ç†å’ŒæŠ¥ä»·  
âœ… **ç«‹å³ä¸‹å•** â†’ æ·»åŠ åˆ°è´­ç‰©è½¦  
âœ… **ç«‹å³ä»˜æ¬¾** â†’ ShopifyåŸç”Ÿç»“è´¦

è¿™ä¸ªæµç¨‹å®Œç¾åœ°ç»“åˆäº†è‰ç¨¿è®¢å•çš„çµæ´»æ€§å’Œè´­ç‰©è½¦APIçš„æˆç†Ÿåº¦ï¼ğŸš€

